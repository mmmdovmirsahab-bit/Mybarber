<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>MyBarber ‚Äî Premium Studio</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;0,700;1,400&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
:root{
  --gold:#C8A96E;--gold2:#E8CC8A;--dark:#07090F;--dark2:#0D1119;--dark3:#141B26;
  --glass:rgba(255,255,255,0.04);--glass2:rgba(255,255,255,0.08);--glass3:rgba(255,255,255,0.13);
  --border:rgba(255,255,255,0.09);--border2:rgba(200,169,110,0.28);
  --text:rgba(255,255,255,0.93);--text2:rgba(255,255,255,0.68);
  --muted:rgba(255,255,255,0.42);--muted2:rgba(255,255,255,0.20);
  --red:#E05050;--green:#4CAF88;
}
html,body{height:100%;overflow:hidden;background:var(--dark);color:var(--text);font-family:'Outfit',sans-serif;-webkit-font-smoothing:antialiased}

.bg{position:fixed;inset:0;z-index:0;overflow:hidden;background:linear-gradient(135deg,#07090F,#0D1119)}
.blob{position:absolute;border-radius:50%;filter:blur(110px);pointer-events:none;animation:drift 22s ease-in-out infinite alternate}
.b1{width:550px;height:550px;opacity:.17;background:radial-gradient(#4A1D96,transparent 70%);top:-180px;left:-120px}
.b2{width:480px;height:480px;opacity:.14;background:radial-gradient(#7C1D1D,transparent 70%);bottom:-130px;right:-80px;animation-delay:-9s}
.b3{width:300px;height:300px;opacity:.07;background:radial-gradient(#C8A96E,transparent 70%);top:38%;left:42%;animation-delay:-16s}
@keyframes drift{from{transform:translate(0,0) scale(1)}to{transform:translate(55px,38px) scale(1.13)}}

.page{position:fixed;inset:0;z-index:10;overflow-y:auto;overflow-x:hidden;padding-bottom:90px;opacity:0;pointer-events:none;transform:translateY(26px) scale(0.986);transition:opacity .42s cubic-bezier(.4,0,.2,1),transform .42s cubic-bezier(.4,0,.2,1)}
.page.show{opacity:1;pointer-events:all;transform:none}
.page.out{opacity:0;transform:translateY(-22px) scale(0.99);transition:opacity .25s ease,transform .25s ease}

.topbar{position:sticky;top:0;z-index:50;padding:14px 18px 12px;background:linear-gradient(to bottom,rgba(7,9,15,.97) 60%,transparent);backdrop-filter:blur(14px);display:flex;align-items:center;gap:12px}
.topbar-title{font-family:'Cormorant Garamond',serif;font-size:21px;font-weight:700;flex:1}
.icon-btn{width:40px;height:40px;border-radius:50%;background:var(--glass2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:17px;color:var(--text);flex-shrink:0}
.icon-btn:active{transform:scale(.88)}

/* SPLASH */
.splash{position:fixed;inset:0;z-index:999;background:var(--dark);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;transition:opacity .5s}
.splash.hide{opacity:0;pointer-events:none}
.splash-logo{width:80px;height:80px;border-radius:24px;background:linear-gradient(135deg,#C8A96E,#E8CC8A,#A07840);display:flex;align-items:center;justify-content:center;font-size:38px;animation:logoFloat 2s ease-in-out infinite}
.splash p{color:var(--muted);font-size:14px}
@keyframes logoFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

/* WELCOME */
.welcome-wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 28px;text-align:center}
.logo-ring{width:96px;height:96px;border-radius:28px;background:linear-gradient(135deg,#C8A96E,#E8CC8A,#A07840);display:flex;align-items:center;justify-content:center;font-size:46px;margin-bottom:32px;box-shadow:0 0 0 1px rgba(200,169,110,.3),0 20px 60px rgba(200,169,110,.28);animation:logoFloat 3.5s ease-in-out infinite}
.w-eyebrow{font-size:10px;letter-spacing:5px;font-weight:700;color:var(--gold);text-transform:uppercase;margin-bottom:14px}
.w-title{font-family:'Cormorant Garamond',serif;font-size:clamp(38px,10vw,54px);font-weight:700;line-height:1.08;letter-spacing:-1.5px;margin-bottom:16px}
.w-title em{font-style:italic;background:linear-gradient(135deg,var(--gold),var(--gold2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.w-sub{color:var(--muted);font-size:15px;line-height:1.7;max-width:290px;margin-bottom:46px}
.w-btns{width:100%;max-width:340px}
.role-div{display:flex;align-items:center;gap:14px;margin-bottom:20px}
.role-div span{color:var(--muted2);font-size:11px;letter-spacing:2px;white-space:nowrap}
.role-div::before,.role-div::after{content:'';flex:1;height:1px;background:linear-gradient(to right,transparent,var(--border),transparent)}

/* BUTTONS */
.btn{display:block;width:100%;padding:16px 24px;border:none;border-radius:16px;font-family:'Outfit',sans-serif;font-size:15px;font-weight:600;cursor:pointer;letter-spacing:.3px;transition:all .22s;margin-bottom:12px}
.btn:active{transform:scale(.97)}
.btn-gold{background:linear-gradient(135deg,#C8A96E,#E8CC8A,#B8924E);color:#1A0E00;box-shadow:0 8px 32px rgba(200,169,110,.32),inset 0 1px 0 rgba(255,255,255,.25)}
.btn-gold:hover{transform:translateY(-2px);box-shadow:0 16px 40px rgba(200,169,110,.42)}
.btn-glass{background:var(--glass2);border:1px solid rgba(255,255,255,.15);color:var(--text)}
.btn-glass:hover{background:var(--glass3)}
.btn-red{background:rgba(224,80,80,.15);border:1px solid rgba(224,80,80,.3);color:var(--red)}

/* AUTH PAGES */
.auth-wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 24px}
.auth-logo{font-size:48px;margin-bottom:20px}
.auth-title{font-family:'Cormorant Garamond',serif;font-size:32px;font-weight:700;margin-bottom:8px;text-align:center}
.auth-sub{color:var(--muted);font-size:14px;margin-bottom:32px;text-align:center;line-height:1.6}
.auth-box{width:100%;max-width:360px}
.auth-switch{text-align:center;margin-top:16px;font-size:14px;color:var(--muted)}
.auth-switch span{color:var(--gold);font-weight:600;cursor:pointer}

/* ROLE BADGE on auth */
.role-badge{display:inline-flex;align-items:center;gap:8px;padding:8px 18px;border-radius:20px;margin-bottom:24px;font-size:13px;font-weight:600}
.rb-client{background:rgba(200,169,110,.12);border:1px solid var(--border2);color:var(--gold)}
.rb-barber{background:rgba(124,58,237,.12);border:1px solid rgba(124,58,237,.3);color:#A78BFA}

/* CARDS */
.card{background:var(--glass);border:1px solid var(--border);border-radius:20px;backdrop-filter:blur(18px);padding:22px 20px;margin:0 16px 14px;box-shadow:0 8px 40px rgba(0,0,0,.32),inset 0 1px 0 rgba(255,255,255,.06)}
.card-gold{border-color:var(--border2);background:linear-gradient(135deg,rgba(200,169,110,.06),rgba(200,169,110,.02))}
.sec-label{font-size:10px;font-weight:700;letter-spacing:3.5px;text-transform:uppercase;color:var(--gold);margin-bottom:16px;display:flex;align-items:center;gap:8px}
.sec-label::after{content:'';flex:1;height:1px;background:linear-gradient(to right,var(--border2),transparent)}

/* FORMS */
.fgroup{margin-bottom:18px}
.flabel{display:block;margin-bottom:8px;font-size:11px;font-weight:600;color:var(--muted);letter-spacing:1.5px;text-transform:uppercase}
.finput,.fselect,.ftextarea{width:100%;padding:14px 16px;background:rgba(255,255,255,.055);border:1px solid var(--border);border-radius:14px;color:var(--text);font-family:'Outfit',sans-serif;font-size:15px;outline:none;transition:all .22s;-webkit-appearance:none}
.finput::placeholder{color:var(--muted2)}
.finput:focus,.fselect:focus,.ftextarea:focus{border-color:var(--gold);background:rgba(200,169,110,.07);box-shadow:0 0 0 3px rgba(200,169,110,.12)}
.fselect{cursor:pointer}
.fselect option{background:var(--dark2);color:var(--text)}
.ftextarea{resize:none;height:90px;line-height:1.65}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.finput-pw{position:relative}
.finput-pw input{padding-right:48px}
.pw-eye{position:absolute;right:14px;top:50%;transform:translateY(-50%);cursor:pointer;color:var(--muted);font-size:18px;user-select:none}

/* PG HERO */
.pg-hero{padding:26px 20px 20px;text-align:center;background:linear-gradient(to bottom,rgba(200,169,110,.07),transparent);border-bottom:1px solid var(--border);margin-bottom:16px}
.pg-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:20px;margin-bottom:14px;background:rgba(200,169,110,.12);border:1px solid var(--border2);color:var(--gold);font-size:12px;font-weight:600;letter-spacing:1px}
.pg-hero h2{font-family:'Cormorant Garamond',serif;font-size:28px;font-weight:700;margin-bottom:8px}
.pg-hero p{color:var(--muted);font-size:14px;line-height:1.65;max-width:270px;margin:0 auto}

/* STEPPER */
.stepper{display:flex;align-items:center;justify-content:center;gap:6px;padding:0 20px 22px}
.sdot{height:7px;border-radius:4px;background:var(--border);transition:all .32s}
.sdot.done{width:14px;background:rgba(200,169,110,.45)}
.sdot.active{width:28px;background:var(--gold)}
.sdot.pend{width:7px}

/* AVATAR */
.ava-upload{width:88px;height:88px;border-radius:50%;margin:0 auto 14px;border:2px dashed var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .22s;background:var(--glass2);font-size:32px;overflow:hidden;position:relative}
.ava-upload:hover{border-color:var(--gold);transform:scale(1.04)}
.ava-upload img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;border-radius:50%}
.ava-overlay{position:absolute;inset:0;border-radius:50%;background:rgba(200,169,110,.35);display:none;align-items:center;justify-content:center;font-size:18px}
.ava-upload:hover .ava-overlay{display:flex}

/* PHOTO GRID */
.pgrid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.pcell{aspect-ratio:1;border-radius:14px;background:var(--glass2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .22s;overflow:hidden;font-size:26px;position:relative}
.pcell:hover{border-color:var(--gold);transform:scale(1.02)}
.pcell img{width:100%;height:100%;object-fit:cover}
.pcell.add{border-style:dashed;color:var(--muted)}
.pcell.add:hover{color:var(--gold)}

/* CHIPS */
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:8px 14px;border-radius:10px;background:var(--glass2);border:1px solid var(--border);color:var(--muted);font-size:13px;cursor:pointer;transition:all .18s;user-select:none}
.chip.on{background:rgba(200,169,110,.16);border-color:var(--gold);color:var(--gold);font-weight:600}
.chip:active{transform:scale(.93)}

/* PRICE ROW */
.prow{display:flex;align-items:center;gap:12px;padding:13px 0;border-bottom:1px solid var(--border)}
.prow:last-child{border-bottom:none}
.picon{width:40px;height:40px;border-radius:12px;background:var(--glass2);display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;border:1px solid var(--border)}
.plabel{flex:1}
.plabel .pn{font-size:14px;font-weight:600}
.plabel .pd{font-size:11px;color:var(--muted);margin-top:2px}
.pinp{width:70px;padding:8px 10px;background:rgba(255,255,255,.06);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:'Outfit',sans-serif;font-size:14px;font-weight:600;text-align:right;outline:none;transition:border-color .2s}
.pinp:focus{border-color:var(--gold);background:rgba(200,169,110,.07)}
.punit{font-size:12px;color:var(--muted);width:28px}

/* BARBER CARD */
.bcard{display:flex;align-items:center;gap:14px;padding:16px;border-radius:20px;background:var(--glass2);border:1px solid var(--border);margin:0 16px 12px;cursor:pointer;transition:all .22s}
.bcard:hover{border-color:var(--border2);transform:translateY(-1px);background:var(--glass3)}
.bcard:active{transform:scale(.98)}
.bava{width:56px;height:56px;border-radius:50%;flex-shrink:0;border:2px solid rgba(200,169,110,.3);background:linear-gradient(135deg,#3D1F6E,#6E1F1F);display:flex;align-items:center;justify-content:center;font-size:22px;overflow:hidden;font-weight:700;color:white}
.bava img{width:100%;height:100%;object-fit:cover;border-radius:50%}
.binfo{flex:1}
.bname{font-weight:700;font-size:15px;margin-bottom:3px}
.bloc{font-size:12px;color:var(--muted);margin-bottom:7px}
.btags{display:flex;gap:6px;flex-wrap:wrap}
.tag{padding:3px 9px;border-radius:20px;font-size:10px;font-weight:600}
.tg{background:rgba(200,169,110,.14);color:var(--gold);border:1px solid var(--border2)}
.tgr{background:rgba(76,175,136,.14);color:var(--green);border:1px solid rgba(76,175,136,.25)}
.tgy{background:var(--glass2);color:var(--muted);border:1px solid var(--border)}

/* PROFILE HERO */
.phero{background:linear-gradient(135deg,rgba(200,169,110,.09),rgba(124,58,237,.07));border-bottom:1px solid var(--border2);padding:26px 20px 20px;margin-bottom:16px;display:flex;gap:16px;align-items:flex-start}
.pava{width:76px;height:76px;border-radius:50%;flex-shrink:0;border:2px solid var(--gold);background:linear-gradient(135deg,#3D1F6E,#6E1F1F);display:flex;align-items:center;justify-content:center;font-size:28px;overflow:hidden;box-shadow:0 0 0 4px rgba(200,169,110,.12);font-weight:700;color:white}
.pava img{width:100%;height:100%;object-fit:cover}
.pname{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:700;margin-bottom:3px}
.ploc{color:var(--muted);font-size:13px;margin-bottom:10px}
.badge-row{display:flex;gap:6px;flex-wrap:wrap}
.badge{padding:4px 10px;border-radius:20px;font-size:10px;font-weight:700}
.bg{background:rgba(200,169,110,.15);color:var(--gold);border:1px solid var(--border2)}
.bgr{background:rgba(76,175,136,.15);color:var(--green);border:1px solid rgba(76,175,136,.25)}
.bgy{background:var(--glass2);color:var(--muted);border:1px solid var(--border)}

/* TAB BAR */
.tab-bar{display:flex;margin:0 16px 18px;background:var(--glass2);border:1px solid var(--border);border-radius:14px;padding:4px;gap:3px}
.tab{flex:1;padding:10px 6px;text-align:center;border-radius:11px;font-size:13px;font-weight:500;color:var(--muted);cursor:pointer;transition:all .22s}
.tab.on{background:linear-gradient(135deg,#C8A96E,#E8CC8A);color:#1A0E00;font-weight:700;box-shadow:0 4px 14px rgba(200,169,110,.28)}

/* PORTFOLIO */
.port-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.port-item{aspect-ratio:1;border-radius:14px;background:var(--glass2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:36px;overflow:hidden}
.port-item img{width:100%;height:100%;object-fit:cover}

/* REVIEWS */
.review{padding:14px 0;border-bottom:1px solid var(--border)}
.review:last-child{border-bottom:none}
.rev-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.rev-name{font-weight:600;font-size:14px}
.stars{color:var(--gold);font-size:13px}
.rev-text{font-size:13px;color:var(--text2);line-height:1.55}
.rev-date{font-size:11px;color:var(--muted);margin-top:4px}

/* TIME GRID */
.tgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:12px 0}
.tslot{padding:12px 6px;text-align:center;border-radius:12px;background:var(--glass2);border:1px solid var(--border);font-size:14px;font-weight:500;cursor:pointer;transition:all .2s}
.tslot:hover{border-color:var(--gold);color:var(--gold)}
.tslot.picked{background:rgba(200,169,110,.16);border-color:var(--gold);color:var(--gold);font-weight:700}
.tslot.taken{opacity:.3;cursor:not-allowed;pointer-events:none}

/* HRS */
.hrs-row{display:flex;align-items:center;gap:10px;padding:11px 0;border-bottom:1px solid var(--border)}
.hrs-row:last-child{border-bottom:none}
.day-n{width:38px;color:var(--muted);font-size:12px;font-weight:600}
.hinp{width:74px;padding:7px 10px;background:var(--glass2);border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:'Outfit',sans-serif;font-size:13px;outline:none;-webkit-appearance:none}
.hinp:focus{border-color:var(--gold)}
.hsep{color:var(--muted);font-size:12px;font-weight:600}

/* TOGGLE */
.toggle{width:46px;height:26px;border-radius:13px;background:var(--border);position:relative;cursor:pointer;transition:background .28s;flex-shrink:0}
.toggle.on{background:linear-gradient(135deg,var(--gold),var(--gold2))}
.toggle::after{content:'';position:absolute;width:20px;height:20px;border-radius:50%;background:white;top:3px;left:3px;transition:transform .28s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 6px rgba(0,0,0,.4)}
.toggle.on::after{transform:translateX(20px)}

/* APPT */
.appt{display:flex;align-items:center;gap:14px;padding:14px 16px;border-radius:16px;background:var(--glass2);border:1px solid var(--border);margin-bottom:10px}
.anum{width:34px;height:34px;border-radius:50%;flex-shrink:0;background:rgba(200,169,110,.12);border:1px solid var(--border2);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;color:var(--gold)}
.ainfo{flex:1}
.aname{font-weight:600;font-size:14px;margin-bottom:2px}
.adetail{font-size:12px;color:var(--muted)}
.astatus{padding:5px 10px;border-radius:20px;font-size:10px;font-weight:700}
.s-now{background:rgba(76,175,136,.15);color:var(--green)}
.s-next{background:rgba(200,169,110,.14);color:var(--gold)}
.s-wait{background:var(--glass2);color:var(--muted)}

/* STATS */
.sgrid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:0 16px;margin-bottom:16px}
.sbox{background:var(--glass2);border:1px solid var(--border);border-radius:18px;padding:18px 16px;text-align:center}
.snum{font-family:'Cormorant Garamond',serif;font-size:36px;font-weight:700;color:var(--gold);line-height:1}
.slbl{font-size:11px;color:var(--muted);margin-top:4px}

/* SUMMARY */
.sumbox{background:rgba(200,169,110,.06);border:1px solid var(--border2);border-radius:16px;padding:16px 18px;margin:14px 0}
.sum-row{display:flex;justify-content:space-between;align-items:center;padding:7px 0;border-bottom:1px solid var(--border);font-size:14px}
.sum-row:last-child{border-bottom:none}
.sum-row .sl{color:var(--muted)}
.sum-total{font-size:17px;font-weight:700;color:var(--gold)}

/* SEARCHBAR */
.searchbar{margin:0 16px 14px;position:relative}
.searchbar input{width:100%;padding:13px 16px 13px 44px;background:var(--glass2);border:1px solid var(--border);border-radius:14px;color:var(--text);font-family:'Outfit',sans-serif;font-size:14px;outline:none;transition:all .2s}
.searchbar input::placeholder{color:var(--muted2)}
.searchbar input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(200,169,110,.1)}
.si{position:absolute;left:14px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:17px;pointer-events:none}

/* MODAL */
.modal-bg{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,.78);backdrop-filter:blur(12px);display:flex;align-items:flex-end;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s}
.modal-bg.show{opacity:1;pointer-events:all}
.modal-sheet{background:linear-gradient(to bottom,var(--dark3),var(--dark2));border:1px solid var(--border);border-bottom:none;border-radius:28px 28px 0 0;padding:10px 24px 60px;width:100%;max-width:500px;text-align:center;transform:translateY(100%);transition:transform .38s cubic-bezier(.4,0,.2,1);box-shadow:0 -20px 60px rgba(0,0,0,.5)}
.modal-bg.show .modal-sheet{transform:none}
.m-handle{width:40px;height:4px;border-radius:2px;background:var(--muted2);margin:0 auto 24px}
.m-icon{font-size:56px;margin-bottom:16px}
.modal-sheet h3{font-family:'Cormorant Garamond',serif;font-size:28px;margin-bottom:12px}
.modal-sheet p{color:var(--muted);font-size:14px;line-height:1.65;margin-bottom:28px}

/* LOADER */
.loader{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:12px;color:var(--muted);font-size:14px}
.spin{width:32px;height:32px;border:2px solid var(--border);border-top-color:var(--gold);border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.empty{text-align:center;padding:50px 20px;color:var(--muted)}
.empty .ei{font-size:48px;margin-bottom:12px}
.empty p{font-size:14px;line-height:1.6}

::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-thumb{background:rgba(255,255,255,.08);border-radius:3px}

.px{padding-left:16px;padding-right:16px}
.mt8{margin-top:8px}.mt12{margin-top:12px}.mt16{margin-top:16px}.mt20{margin-top:20px}
.mb8{margin-bottom:8px}.mb12{margin-bottom:12px}.mb16{margin-bottom:16px}
.flex{display:flex;align-items:center}.flex-between{display:flex;align-items:center;justify-content:space-between}
.gap8{gap:8px}.gap12{gap:12px}
.gold{color:var(--gold)}.muted{color:var(--muted)}.t2{color:var(--text2)}
.small{font-size:13px}.xs{font-size:11px}.fw6{font-weight:600}.fw7{font-weight:700}
.serif{font-family:'Cormorant Garamond',serif}.center{text-align:center}.lh{line-height:1.65}
.hidden{display:none!important}
</style>
</head>
<body>

<div class="bg">
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>
</div>

<!-- SPLASH SCREEN -->
<div class="splash" id="splash">
  <div class="splash-logo">&#9986;&#65039;</div>
  <p>Y√ºkl…ônir...</p>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WELCOME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-welcome">
  <div class="welcome-wrap">
    <div class="logo-ring">&#9986;&#65039;</div>
    <div class="w-eyebrow">MyBarber Studio</div>
    <h1 class="w-title">The Art of<br><em>Clean Cuts</em></h1>
    <p class="w-sub">B…ôrb…ôrl…ôr qeydiyyatdan ke√ßir, m√º≈üt…ôril…ôr onlarƒ± tapƒ±r. Real vaxtda.</p>
    <div class="w-btns">
      <div class="role-div"><span>Kƒ∞MSƒ∞Nƒ∞Z?</span></div>
      <button class="btn btn-gold" onclick="setRole('client'); go('pg-client-auth')">&#128100; M√º≈üt…ôriy…ôm</button>
      <button class="btn btn-glass" onclick="setRole('barber'); go('pg-barber-auth')">&#9986;&#65039; B…ôrb…ôr…ôm</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CLIENT AUTH ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-client-auth">
  <div class="auth-wrap">
    <div class="auth-logo">&#128100;</div>
    <div class="role-badge rb-client">&#128100; M√º≈üt…ôri Hesabƒ±</div>
    <h2 class="auth-title" id="cl-auth-title">Giri≈ü Et</h2>
    <p class="auth-sub" id="cl-auth-sub">Hesabƒ±nƒ±za daxil olun</p>
    <div class="auth-box">
      <!-- LOGIN -->
      <div id="cl-login">
        <div class="fgroup">
          <label class="flabel">E-po√ßt</label>
          <input class="finput" id="cl-l-email" type="email" placeholder="email@example.com">
        </div>
        <div class="fgroup">
          <label class="flabel">≈ûifr…ô</label>
          <div class="finput-pw">
            <input class="finput" id="cl-l-pass" type="password" placeholder="≈ûifr…ôniz">
            <span class="pw-eye" onclick="togglePw('cl-l-pass',this)">&#128065;</span>
          </div>
        </div>
        <button class="btn btn-gold" onclick="clientLogin()">Daxil Ol &#8594;</button>
        <div class="auth-switch">Hesabƒ±nƒ±z yoxdur? <span onclick="switchAuth('cl-login','cl-reg','cl-auth-title','cl-auth-sub','Qeydiyyat','Yeni hesab yaradƒ±n')">Qeydiyyat</span></div>
      </div>
      <!-- REGISTER -->
      <div id="cl-reg" class="hidden">
        <div class="frow mb16">
          <div class="fgroup" style="margin-bottom:0"><label class="flabel">Ad</label><input class="finput" id="cl-r-fn" type="text" placeholder="Adƒ±nƒ±z"></div>
          <div class="fgroup" style="margin-bottom:0"><label class="flabel">Soyad</label><input class="finput" id="cl-r-ln" type="text" placeholder="Soyadƒ±nƒ±z"></div>
        </div>
        <div class="fgroup"><label class="flabel">Telefon</label><input class="finput" id="cl-r-ph" type="tel" placeholder="+994 50 XXX XX XX"></div>
        <div class="fgroup"><label class="flabel">E-po√ßt</label><input class="finput" id="cl-r-email" type="email" placeholder="email@example.com"></div>
        <div class="fgroup">
          <label class="flabel">≈ûifr…ô</label>
          <div class="finput-pw">
            <input class="finput" id="cl-r-pass" type="password" placeholder="Minimum 6 simvol">
            <span class="pw-eye" onclick="togglePw('cl-r-pass',this)">&#128065;</span>
          </div>
        </div>
        <div class="fgroup"><label class="flabel">Rayon</label>
          <select class="fselect" id="cl-r-dist">
            <option value="">Se√ßin...</option>
            <option>Nizami</option><option>N…ôsimi</option><option>Bin…ôq…ôdi</option>
            <option>Sabun√ßu</option><option>X…ôz…ôr</option><option>Suraxanƒ±</option><option>Ab≈üeron</option>
          </select>
        </div>
        <button class="btn btn-gold" onclick="clientRegister()">Qeydiyyatdan Ke√ß &#10003;</button>
        <div class="auth-switch">Artƒ±q hesabƒ±nƒ±z var? <span onclick="switchAuth('cl-reg','cl-login','cl-auth-title','cl-auth-sub','Giri≈ü Et','Hesabƒ±nƒ±za daxil olun')">Giri≈ü Et</span></div>
      </div>
      <button class="btn btn-glass" style="margin-top:8px" onclick="go('pg-welcome')">&#8592; Geri</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BARBER AUTH ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-barber-auth">
  <div class="auth-wrap">
    <div class="auth-logo">&#9986;&#65039;</div>
    <div class="role-badge rb-barber">&#9986;&#65039; B…ôrb…ôr Hesabƒ±</div>
    <h2 class="auth-title" id="br-auth-title">Giri≈ü Et</h2>
    <p class="auth-sub" id="br-auth-sub">B…ôrb…ôr paneliniz…ô daxil olun</p>
    <div class="auth-box">
      <!-- LOGIN -->
      <div id="br-login">
        <div class="fgroup">
          <label class="flabel">E-po√ßt</label>
          <input class="finput" id="br-l-email" type="email" placeholder="email@example.com">
        </div>
        <div class="fgroup">
          <label class="flabel">≈ûifr…ô</label>
          <div class="finput-pw">
            <input class="finput" id="br-l-pass" type="password" placeholder="≈ûifr…ôniz">
            <span class="pw-eye" onclick="togglePw('br-l-pass',this)">&#128065;</span>
          </div>
        </div>
        <button class="btn btn-gold" onclick="barberLogin()">Daxil Ol &#8594;</button>
        <div class="auth-switch">H…ôl…ô qeydiyyatƒ±nƒ±z yoxdur? <span onclick="switchAuth('br-login','br-reg','br-auth-title','br-auth-sub','Qeydiyyat','Yeni b…ôrb…ôr hesabƒ± yaradƒ±n')">Qeydiyyat</span></div>
      </div>
      <!-- REGISTER -->
      <div id="br-reg" class="hidden">
        <div class="frow mb16">
          <div class="fgroup" style="margin-bottom:0"><label class="flabel">Ad</label><input class="finput" id="br-fn" type="text" placeholder="Adƒ±nƒ±z"></div>
          <div class="fgroup" style="margin-bottom:0"><label class="flabel">Soyad</label><input class="finput" id="br-ln" type="text" placeholder="Soyadƒ±nƒ±z"></div>
        </div>
        <div class="fgroup"><label class="flabel">Telefon</label><input class="finput" id="br-ph" type="tel" placeholder="+994 50 XXX XX XX"></div>
        <div class="fgroup"><label class="flabel">E-po√ßt</label><input class="finput" id="br-email" type="email" placeholder="email@example.com"></div>
        <div class="fgroup">
          <label class="flabel">≈ûifr…ô</label>
          <div class="finput-pw">
            <input class="finput" id="br-pass" type="password" placeholder="Minimum 6 simvol">
            <span class="pw-eye" onclick="togglePw('br-pass',this)">&#128065;</span>
          </div>
        </div>
        <div class="fgroup"><label class="flabel">Instagram (k√∂n√ºll√º)</label><input class="finput" id="br-ig" type="text" placeholder="@hesabƒ±nƒ±z"></div>
        <div class="fgroup"><label class="flabel">Bio</label><textarea class="ftextarea" id="br-bio" placeholder="√ñz√ºn√ºz haqqƒ±nda qƒ±sa m…ôlumat..."></textarea></div>
        <div class="fgroup"><label class="flabel">Salon adƒ±</label><input class="finput" id="br-salon" type="text" placeholder="Elite Barber Salon"></div>
        <div class="fgroup"><label class="flabel">Rayon</label>
          <select class="fselect" id="br-dist">
            <option value="">Se√ßin...</option>
            <option>Nizami</option><option>N…ôsimi</option><option>Bin…ôq…ôdi</option>
            <option>Sabun√ßu</option><option>X…ôz…ôr</option><option>Suraxanƒ±</option><option>Ab≈üeron</option>
          </select>
        </div>
        <div class="fgroup"><label class="flabel">D…ôqiq √únvan</label><input class="finput" id="br-addr" type="text" placeholder="K√º√ß…ô, ev n√∂mr…ôsi..."></div>
        <div class="fgroup"><label class="flabel">T…ôcr√ºb…ô</label>
          <select class="fselect" id="br-exp">
            <option>1-2 il</option><option>3-5 il</option><option>5-10 il</option><option>10+ il</option><option>15+ il</option>
          </select>
        </div>
        <div class="fgroup" style="margin-bottom:0">
          <label class="flabel">Xidm…ôtl…ôr</label>
          <div class="chips" style="margin-top:8px" id="reg-chips">
            <div class="chip on" onclick="this.classList.toggle('on')">&#9986; Sa√ß k…ôsimi</div>
            <div class="chip on" onclick="this.classList.toggle('on')">&#128299; Saqqal</div>
            <div class="chip on" onclick="this.classList.toggle('on')">&#128136; Fade</div>
            <div class="chip" onclick="this.classList.toggle('on')">&#128166; Buxar Masaj</div>
            <div class="chip" onclick="this.classList.toggle('on')">&#128167; Sa√ß boyasƒ±</div>
            <div class="chip" onclick="this.classList.toggle('on')">&#9999; Qa≈ü dizayn</div>
            <div class="chip" onclick="this.classList.toggle('on')">&#9728; U≈üaq k…ôsimi</div>
            <div class="chip" onclick="this.classList.toggle('on')">&#128165; Hot Towel</div>
          </div>
        </div>
        <div style="height:20px"></div>
        <button class="btn btn-gold" onclick="barberRegister()">Qeydiyyatdan Ke√ß &#10003;</button>
        <div class="auth-switch">Artƒ±q hesabƒ±nƒ±z var? <span onclick="switchAuth('br-reg','br-login','br-auth-title','br-auth-sub','Giri≈ü Et','B…ôrb…ôr paneliniz…ô daxil olun')">Giri≈ü Et</span></div>
      </div>
      <button class="btn btn-glass" style="margin-top:8px" onclick="go('pg-welcome')">&#8592; Geri</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CLIENT HOME ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-client-home">
  <div class="topbar">
    <div class="topbar-title">B…ôrb…ôrl…ôr</div>
    <div class="icon-btn" onclick="signOutUser()" title="√áƒ±xƒ±≈ü" style="font-size:14px">&#x23FB;</div>
  </div>
  <div class="searchbar">
    <span class="si">&#128269;</span>
    <input type="text" placeholder="Ad, rayon axtar..." oninput="filterBarbers(this.value)">
  </div>
  <div style="padding:0 16px 14px;display:flex;gap:8px;overflow-x:auto;scrollbar-width:none">
    <div class="chip on" onclick="setCat(this,'all')">Hamƒ±sƒ±</div>
    <div class="chip" onclick="setCat(this,'Nizami')">Nizami</div>
    <div class="chip" onclick="setCat(this,'N…ôsimi')">N…ôsimi</div>
    <div class="chip" onclick="setCat(this,'Bin…ôq…ôdi')">Bin…ôq…ôdi</div>
    <div class="chip" onclick="setCat(this,'Sabun√ßu')">Sabun√ßu</div>
  </div>
  <div id="barber-list">
    <div class="loader"><div class="spin"></div>B…ôrb…ôrl…ôr y√ºkl…ônir...</div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BARBER PROFILE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-bprofile">
  <div class="topbar">
    <div class="icon-btn" onclick="go('pg-client-home')">&#8592;</div>
    <div class="topbar-title" id="bpTitle">Profil</div>
  </div>
  <div class="phero">
    <div class="pava" id="bpAva">?</div>
    <div>
      <div class="pname" id="bpName">‚Äì</div>
      <div class="ploc" id="bpLoc">‚Äì</div>
      <div class="badge-row">
        <span class="badge bg">&#9733; Yeni</span>
        <span class="badge bgr">Aktiv</span>
        <span class="badge bgy" id="bpExp">‚Äì</span>
      </div>
    </div>
  </div>
  <div class="tab-bar">
    <div class="tab on" onclick="bpTab(this,'bpt-port')">Portfolio</div>
    <div class="tab" onclick="bpTab(this,'bpt-svc')">Xidm…ôtl…ôr</div>
    <div class="tab" onclick="bpTab(this,'bpt-rev')">R…ôyl…ôr</div>
    <div class="tab" onclick="bpTab(this,'bpt-info')">M…ôlumat</div>
  </div>
  <div id="bpt-port">
    <div style="padding:0 16px">
      <div class="port-grid">
        <div class="port-item" style="background:linear-gradient(135deg,#1a1a2e,#16213e)">&#9986;</div>
        <div class="port-item" style="background:linear-gradient(135deg,#0f3460,#1D2F5C)">&#128136;</div>
        <div class="port-item" style="background:linear-gradient(135deg,#1a0a0a,#3d1515)">&#129491;</div>
        <div class="port-item" style="background:linear-gradient(135deg,#0a1a0a,#153d15)">&#128166;</div>
      </div>
    </div>
    <div class="card mt12">
      <div class="sec-label">Haqqƒ±nda</div>
      <p class="small lh t2" id="bpAbout">‚Äì</p>
    </div>
    <div class="px"><button class="btn btn-gold" onclick="go('pg-booking')">Zapis Ol &#128197;</button></div>
  </div>
  <div id="bpt-svc" class="hidden">
    <div class="card" id="bpSvcList"><div class="sec-label">Qiym…ôt Siyahƒ±sƒ±</div></div>
    <div class="px"><button class="btn btn-gold" onclick="go('pg-booking')">Zapis Ol &#128197;</button></div>
  </div>
  <div id="bpt-rev" class="hidden">
    <div class="card">
      <div class="sec-label">M√º≈üt…ôri R…ôyl…ôri</div>
      <div class="review">
        <div class="rev-top"><span class="rev-name">V√ºsal A.</span><span class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</span></div>
        <p class="rev-text">√áox pe≈ü…ôkar usta, …ôll…ôri qƒ±zƒ±ldƒ±r!</p>
        <div class="rev-date">3 g√ºn …ôvv…ôl</div>
      </div>
      <div class="review">
        <div class="rev-top"><span class="rev-name">R…ô≈üad M.</span><span class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</span></div>
        <p class="rev-text">Fade-i Bakƒ±da …ôn yax≈üƒ± bu usta edir.</p>
        <div class="rev-date">1 h…ôft…ô …ôvv…ôl</div>
      </div>
    </div>
  </div>
  <div id="bpt-info" class="hidden">
    <div class="card">
      <div class="sec-label">Salon M…ôlumatƒ±</div>
      <div class="flex" style="gap:12px;padding:10px 0;border-bottom:1px solid var(--border)">
        <span style="font-size:20px">&#128205;</span>
        <div><div class="small fw6" id="bpSalon">‚Äì</div><div class="xs muted mt8" id="bpAddr">‚Äì</div></div>
      </div>
      <div class="flex" style="gap:12px;padding:10px 0;border-bottom:1px solid var(--border)">
        <span style="font-size:20px">&#128222;</span>
        <div><div class="small fw6" id="bpPhone">‚Äì</div></div>
      </div>
      <div class="flex" style="gap:12px;padding:10px 0">
        <span style="font-size:20px">&#128249;</span>
        <div><div class="small fw6" id="bpIg">‚Äì</div></div>
      </div>
    </div>
    <div class="px"><button class="btn btn-gold" onclick="go('pg-booking')">Zapis Ol &#128197;</button></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOOKING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-booking">
  <div class="topbar">
    <div class="icon-btn" onclick="go('pg-bprofile')">&#8592;</div>
    <div class="topbar-title">Zapis</div>
  </div>
  <div class="pg-hero">
    <div class="pg-badge">&#128197; Yer Ayƒ±rƒ±n</div>
    <h2 id="bk-name">Usta</h2>
    <p>Xidm…ôt v…ô vaxtƒ± se√ßin</p>
  </div>
  <div class="card card-gold">
    <div class="sec-label">Xidm…ôt Se√ßin</div>
    <div id="bk-svcs"></div>
  </div>
  <div class="card">
    <div class="sec-label">Tarix</div>
    <input class="finput" type="date" id="bk-date" style="color-scheme:dark">
  </div>
  <div class="card">
    <div class="sec-label">Vaxt Se√ßin</div>
    <div class="tgrid">
      <div class="tslot taken">09:00</div><div class="tslot taken">09:30</div>
      <div class="tslot" onclick="pickTime(this)">10:00</div>
      <div class="tslot" onclick="pickTime(this)">10:30</div>
      <div class="tslot" onclick="pickTime(this)">11:00</div>
      <div class="tslot taken">11:30</div>
      <div class="tslot" onclick="pickTime(this)">13:00</div>
      <div class="tslot" onclick="pickTime(this)">14:00</div>
      <div class="tslot" onclick="pickTime(this)">15:00</div>
      <div class="tslot" onclick="pickTime(this)">16:00</div>
      <div class="tslot taken">17:00</div>
      <div class="tslot" onclick="pickTime(this)">18:00</div>
    </div>
  </div>
  <div class="card hidden" id="bk-summary">
    <div class="sec-label">X√ºlas…ô</div>
    <div class="sumbox">
      <div class="sum-row"><span class="sl">Usta</span><span class="fw6" id="sum-bar">‚Äì</span></div>
      <div class="sum-row"><span class="sl">Xidm…ôt</span><span class="fw6" id="sum-svc">‚Äì</span></div>
      <div class="sum-row"><span class="sl">Tarix</span><span class="fw6" id="sum-date">‚Äì</span></div>
      <div class="sum-row"><span class="sl">Vaxt</span><span class="fw6" id="sum-time">‚Äì</span></div>
      <div class="sum-row"><span class="sl">√úmumi</span><span class="sum-total" id="sum-price">‚Äì</span></div>
    </div>
  </div>
  <div class="px"><button class="btn btn-gold" onclick="confirmBooking()">Zapisi T…ôsdiql…ô &#10003;</button></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BARBER DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-dash">
  <div class="topbar">
    <div class="topbar-title" id="dash-name">Paneliniz</div>
    <div class="icon-btn" onclick="signOutUser()" title="√áƒ±xƒ±≈ü" style="font-size:14px">&#x23FB;</div>
  </div>
  <div class="phero">
    <div class="pava" id="dash-ava">?</div>
    <div style="flex:1">
      <div class="pname" id="dash-fullname">‚Äì</div>
      <div class="ploc" id="dash-loc">‚Äì</div>
      <div class="badge-row mt8">
        <span class="badge bg">&#9733; Yeni</span>
        <span class="badge bgr" id="dash-status">Aktiv</span>
      </div>
    </div>
    <div class="toggle on" id="dash-toggle" onclick="toggleActive(this)"></div>
  </div>
  <div class="sgrid">
    <div class="sbox"><div class="snum">0</div><div class="slbl">Bu g√ºnk√º zapis</div></div>
    <div class="sbox"><div class="snum" style="color:var(--green)">0</div><div class="slbl">G√ºnl√ºk (AZN)</div></div>
  </div>
  <div style="padding:0 16px 14px;display:flex;gap:10px">
    <button class="btn btn-gold" style="margin:0;flex:1;padding:13px" onclick="go('pg-dash-edit')">&#9998; Profil</button>
    <button class="btn btn-glass" style="margin:0;flex:1;padding:13px" onclick="go('pg-prices')">&#128176; Qiym…ôtl…ôr</button>
  </div>
  <div class="card">
    <div class="sec-label">Bug√ºnk√º N√∂vb…ôl…ôr</div>
    <div id="dash-queue">
      <div class="empty"><div class="ei">&#128197;</div><p>H…ôl…ô zapis yoxdur</p></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BARBER EDIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-dash-edit">
  <div class="topbar">
    <div class="icon-btn" onclick="go('pg-dash')">&#8592;</div>
    <div class="topbar-title">Profil Redakt…ô</div>
  </div>
  <div class="tab-bar" id="edit-tabs">
    <div class="tab on" onclick="editTab(this,'et-info')">M…ôlumat</div>
    <div class="tab" onclick="editTab(this,'et-hours')">Saatlar</div>
    <div class="tab" onclick="editTab(this,'et-svcs')">Xidm…ôtl…ôr</div>
  </div>
  <div id="et-info">
    <div class="card">
      <div class="frow mb16">
        <div class="fgroup" style="margin-bottom:0"><label class="flabel">Ad</label><input class="finput" id="e-fn" type="text"></div>
        <div class="fgroup" style="margin-bottom:0"><label class="flabel">Soyad</label><input class="finput" id="e-ln" type="text"></div>
      </div>
      <div class="fgroup"><label class="flabel">Telefon</label><input class="finput" id="e-ph" type="tel"></div>
      <div class="fgroup"><label class="flabel">Instagram</label><input class="finput" id="e-ig" type="text"></div>
      <div class="fgroup"><label class="flabel">Bio</label><textarea class="ftextarea" id="e-bio"></textarea></div>
      <div class="fgroup"><label class="flabel">Salon adƒ±</label><input class="finput" id="e-salon" type="text"></div>
      <div class="fgroup"><label class="flabel">Rayon</label>
        <select class="fselect" id="e-dist">
          <option>Nizami</option><option>N…ôsimi</option><option>Bin…ôq…ôdi</option>
          <option>Sabun√ßu</option><option>X…ôz…ôr</option><option>Suraxanƒ±</option>
        </select>
      </div>
      <div class="fgroup" style="margin-bottom:0"><label class="flabel">√únvan</label><input class="finput" id="e-addr" type="text"></div>
    </div>
    <div class="px"><button class="btn btn-gold" onclick="updateBarberProfile()">Saxla &#10003;</button></div>
  </div>
  <div id="et-hours" class="hidden">
    <div class="card">
      <div class="sec-label">ƒ∞≈ü Saatlarƒ±</div>
      <div class="hrs-row"><div class="day-n">B.er</div><input class="hinp" type="time" value="09:00"><span class="hsep">‚Äì</span><input class="hinp" type="time" value="20:00"><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
      <div class="hrs-row"><div class="day-n">√á…ôr</div><input class="hinp" type="time" value="09:00"><span class="hsep">‚Äì</span><input class="hinp" type="time" value="20:00"><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
      <div class="hrs-row"><div class="day-n">C√ºm</div><input class="hinp" type="time" value="09:00"><span class="hsep">‚Äì</span><input class="hinp" type="time" value="20:00"><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
      <div class="hrs-row"><div class="day-n">≈û…ôn</div><input class="hinp" type="time" value="10:00"><span class="hsep">‚Äì</span><input class="hinp" type="time" value="18:00"><div class="toggle on" onclick="this.classList.toggle('on')"></div></div>
      <div class="hrs-row"><div class="day-n">Baz</div><input class="hinp" type="time" value="10:00"><span class="hsep">‚Äì</span><input class="hinp" type="time" value="16:00"><div class="toggle" onclick="this.classList.toggle('on')"></div></div>
    </div>
    <div class="px"><button class="btn btn-gold" onclick="showModal('Saatlar Saxlandƒ±','ƒ∞≈ü saatlarƒ±nƒ±z yenil…ôndi.','&#128336;')">Saxla &#10003;</button></div>
  </div>
  <div id="et-svcs" class="hidden">
    <div class="card">
      <div class="sec-label">Aktiv Xidm…ôtl…ôr</div>
      <div class="chips">
        <div class="chip on" onclick="this.classList.toggle('on')">&#9986; Sa√ß k…ôsimi</div>
        <div class="chip on" onclick="this.classList.toggle('on')">&#128299; Saqqal</div>
        <div class="chip on" onclick="this.classList.toggle('on')">&#128136; Fade</div>
        <div class="chip" onclick="this.classList.toggle('on')">&#128166; Buxar</div>
        <div class="chip" onclick="this.classList.toggle('on')">&#128167; Boya</div>
        <div class="chip" onclick="this.classList.toggle('on')">&#9999; Qa≈ü</div>
        <div class="chip" onclick="this.classList.toggle('on')">&#9728; U≈üaq</div>
      </div>
    </div>
    <div class="px"><button class="btn btn-gold" onclick="showModal('Xidm…ôtl…ôr Saxlandƒ±','Se√ßiml…ôriniz yenil…ôndi.','&#9986;&#65039;')">Saxla &#10003;</button></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRICES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="pg-prices">
  <div class="topbar">
    <div class="icon-btn" onclick="go('pg-dash')">&#8592;</div>
    <div class="topbar-title">Qiym…ôtl…ôr</div>
  </div>
  <div class="pg-hero">
    <div class="pg-badge">&#128176; Qiym…ôt ƒ∞dar…ôetm…ôsi</div>
    <h2>Qiym…ôtl…ôr</h2>
    <p>H…ôr xidm…ôt √º√ß√ºn √∂z qiym…ôtinizi yazƒ±n</p>
  </div>
  <div class="card">
    <div class="sec-label">Xidm…ôt Qiym…ôtl…ôri (AZN)</div>
    <div class="prow"><div class="picon">&#9986;</div><div class="plabel"><div class="pn">Sa√ß k…ôsimi</div><div class="pd">~30 d…ôq</div></div><input class="pinp" type="number" value="15" id="mp-hc"><span class="punit">AZN</span></div>
    <div class="prow"><div class="picon">&#128299;</div><div class="plabel"><div class="pn">Saqqal</div><div class="pd">~20 d…ôq</div></div><input class="pinp" type="number" value="10" id="mp-bd"><span class="punit">AZN</span></div>
    <div class="prow"><div class="picon">&#128136;</div><div class="plabel"><div class="pn">Sa√ß + Saqqal</div><div class="pd">~50 d…ôq</div></div><input class="pinp" type="number" value="20" id="mp-cb"><span class="punit">AZN</span></div>
    <div class="prow"><div class="picon">&#128166;</div><div class="plabel"><div class="pn">Buxar Masaj</div><div class="pd">~15 d…ôq</div></div><input class="pinp" type="number" value="8" id="mp-st"><span class="punit">AZN</span></div>
    <div class="prow"><div class="picon">&#128167;</div><div class="plabel"><div class="pn">Sa√ß boyasƒ±</div><div class="pd">~60 d…ôq</div></div><input class="pinp" type="number" value="30" id="mp-cl"><span class="punit">AZN</span></div>
    <div class="prow"><div class="picon">&#9999;</div><div class="plabel"><div class="pn">Qa≈ü dizayn</div><div class="pd">~15 d…ôq</div></div><input class="pinp" type="number" value="5" id="mp-br"><span class="punit">AZN</span></div>
  </div>
  <div class="px"><button class="btn btn-gold" onclick="savePrices()">Qiym…ôtl…ôri Saxla &#10003;</button></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="modal-bg" id="modal-bg">
  <div class="modal-sheet">
    <div class="m-handle"></div>
    <div class="m-icon" id="m-icon">&#127881;</div>
    <h3 id="m-title">‚Äì</h3>
    <p id="m-msg">‚Äì</p>
    <button class="btn btn-gold" style="margin-bottom:0" onclick="closeModal()">&#10003; Baƒüla</button>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs, doc, getDoc, setDoc, updateDoc, query, orderBy, serverTimestamp }
  from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged }
  from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBvePrXEyUynUBtPIzh9XlofL-SHordKsI",
  authDomain: "mybarber-7ba0a.firebaseapp.com",
  projectId: "mybarber-7ba0a",
  storageBucket: "mybarber-7ba0a.firebasestorage.app",
  messagingSenderId: "560697379122",
  appId: "1:560697379122:web:7091d165c4e1a8b924ef2b"
};

const app  = initializeApp(firebaseConfig);
const db   = getFirestore(app);
const auth = getAuth(app);

// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let curPage    = 'pg-welcome';
let modalCb    = null;
let bkSvc      = null;
let bkTime     = null;
let curBarber  = null;
let curBarberId= null;
let allBarbers = [];
let currentUser= null;
let userRole   = null; // 'client' | 'barber'

// ‚îÄ‚îÄ AUTH STATE LISTENER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
onAuthStateChanged(auth, async (user) => {
  const splash = document.getElementById('splash');
  if (user) {
    currentUser = user;
    // Check if barber or client
    const barberDoc = await getDoc(doc(db, 'barbers', user.uid));
    if (barberDoc.exists()) {
      userRole = 'barber';
      const data = barberDoc.data();
      curBarberId = user.uid;
      loadDashboard(data);
      showPage('pg-dash');
    } else {
      const clientDoc = await getDoc(doc(db, 'clients', user.uid));
      if (clientDoc.exists()) {
        userRole = 'client';
        loadBarbers();
        showPage('pg-client-home');
      } else {
        showPage('pg-welcome');
      }
    }
  } else {
    currentUser = null;
    showPage('pg-welcome');
  }
  setTimeout(() => splash.classList.add('hide'), 600);
});

function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('show','out'));
  document.getElementById(id)?.classList.add('show');
  curPage = id;
}

// ‚îÄ‚îÄ NAVIGATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.go = function(id) {
  if (curPage === id) return;
  const cur  = document.getElementById(curPage);
  const next = document.getElementById(id);
  if (!cur || !next) return;
  cur.classList.add('out');
  setTimeout(() => cur.classList.remove('show','out'), 260);
  setTimeout(() => { next.classList.add('show'); next.scrollTop = 0; curPage = id; }, 140);
};

window.setRole = function(role) { userRole = role; };

// ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.showModal = function(title, msg, icon, cb) {
  document.getElementById('m-title').innerHTML = title;
  document.getElementById('m-msg').innerHTML   = msg;
  document.getElementById('m-icon').innerHTML  = icon || '&#127881;';
  modalCb = cb || null;
  document.getElementById('modal-bg').classList.add('show');
};
window.closeModal = function() {
  document.getElementById('modal-bg').classList.remove('show');
  if (modalCb) { const cb = modalCb; modalCb = null; setTimeout(cb, 320); }
};
document.getElementById('modal-bg').addEventListener('click', e => {
  if (e.target === document.getElementById('modal-bg')) window.closeModal();
});

// ‚îÄ‚îÄ SWITCH AUTH FORM ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.switchAuth = function(hideId, showId, titleId, subId, title, sub) {
  document.getElementById(hideId).classList.add('hidden');
  document.getElementById(showId).classList.remove('hidden');
  document.getElementById(titleId).textContent = title;
  document.getElementById(subId).textContent   = sub;
};

// ‚îÄ‚îÄ PASSWORD TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.togglePw = function(id, eye) {
  const inp = document.getElementById(id);
  inp.type = inp.type === 'password' ? 'text' : 'password';
  eye.textContent = inp.type === 'password' ? 'üëÅ' : 'üôà';
};

// ‚îÄ‚îÄ CLIENT LOGIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.clientLogin = async function() {
  const email = document.getElementById('cl-l-email').value.trim();
  const pass  = document.getElementById('cl-l-pass').value;
  if (!email || !pass) { showModal('X…ôta','Email v…ô ≈üifr…ôni daxil edin.','‚ö†Ô∏è'); return; }
  try {
    await signInWithEmailAndPassword(auth, email, pass);
    // onAuthStateChanged handles navigation
  } catch(e) {
    showModal('Giri≈ü X…ôtasƒ±', e.code === 'auth/invalid-credential'
      ? 'Email v…ô ya ≈üifr…ô yanlƒ±≈üdƒ±r.' : 'X…ôta ba≈ü verdi. Yenid…ôn c…ôhd edin.', '‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ CLIENT REGISTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.clientRegister = async function() {
  const fn    = document.getElementById('cl-r-fn').value.trim();
  const ln    = document.getElementById('cl-r-ln').value.trim();
  const ph    = document.getElementById('cl-r-ph').value.trim();
  const email = document.getElementById('cl-r-email').value.trim();
  const pass  = document.getElementById('cl-r-pass').value;
  const dist  = document.getElementById('cl-r-dist').value;
  if (!fn || !ln)     { showModal('X…ôta','Ad v…ô soyad lazƒ±mdƒ±r.','‚ö†Ô∏è'); return; }
  if (!email || !pass){ showModal('X…ôta','Email v…ô ≈üifr…ô lazƒ±mdƒ±r.','‚ö†Ô∏è'); return; }
  if (pass.length < 6){ showModal('X…ôta','≈ûifr…ô minimum 6 simvol olmalƒ±dƒ±r.','‚ö†Ô∏è'); return; }
  try {
    const cred = await createUserWithEmailAndPassword(auth, email, pass);
    await setDoc(doc(db, 'clients', cred.user.uid), {
      firstName: fn, lastName: ln, phone: ph,
      email, district: dist, createdAt: serverTimestamp()
    });
    // onAuthStateChanged handles navigation
  } catch(e) {
    showModal('Qeydiyyat X…ôtasƒ±',
      e.code === 'auth/email-already-in-use' ? 'Bu email artƒ±q istifad…ô olunur.' : 'X…ôta ba≈ü verdi.','‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ BARBER LOGIN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.barberLogin = async function() {
  const email = document.getElementById('br-l-email').value.trim();
  const pass  = document.getElementById('br-l-pass').value;
  if (!email || !pass) { showModal('X…ôta','Email v…ô ≈üifr…ôni daxil edin.','‚ö†Ô∏è'); return; }
  try {
    await signInWithEmailAndPassword(auth, email, pass);
  } catch(e) {
    showModal('Giri≈ü X…ôtasƒ±', e.code === 'auth/invalid-credential'
      ? 'Email v…ô ya ≈üifr…ô yanlƒ±≈üdƒ±r.' : 'X…ôta ba≈ü verdi.', '‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ BARBER REGISTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.barberRegister = async function() {
  const fn    = document.getElementById('br-fn').value.trim();
  const ln    = document.getElementById('br-ln').value.trim();
  const ph    = document.getElementById('br-ph').value.trim();
  const email = document.getElementById('br-email').value.trim();
  const pass  = document.getElementById('br-pass').value;
  const dist  = document.getElementById('br-dist').value;
  if (!fn)            { showModal('X…ôta','Adƒ±nƒ±zƒ± daxil edin.','‚ö†Ô∏è'); return; }
  if (!email || !pass){ showModal('X…ôta','Email v…ô ≈üifr…ô lazƒ±mdƒ±r.','‚ö†Ô∏è'); return; }
  if (pass.length < 6){ showModal('X…ôta','≈ûifr…ô minimum 6 simvol olmalƒ±dƒ±r.','‚ö†Ô∏è'); return; }
  if (!dist)          { showModal('X…ôta','Rayon se√ßin.','‚ö†Ô∏è'); return; }
  const chips = Array.from(document.querySelectorAll('#reg-chips .chip.on')).map(c => c.textContent.trim());
  try {
    const cred = await createUserWithEmailAndPassword(auth, email, pass);
    await setDoc(doc(db, 'barbers', cred.user.uid), {
      firstName: fn, lastName: ln, phone: ph, email,
      instagram: document.getElementById('br-ig').value.trim(),
      bio:       document.getElementById('br-bio').value.trim(),
      salon:     document.getElementById('br-salon').value.trim(),
      district:  dist,
      address:   document.getElementById('br-addr').value.trim(),
      exp:       document.getElementById('br-exp').value,
      services:  chips,
      prices:    { haircut:15, beard:10, combo:20, steam:8, color:30, brow:5 },
      isActive:  true,
      createdAt: serverTimestamp()
    });
    // onAuthStateChanged handles navigation
  } catch(e) {
    showModal('Qeydiyyat X…ôtasƒ±',
      e.code === 'auth/email-already-in-use' ? 'Bu email artƒ±q istifad…ô olunur.' : 'X…ôta ba≈ü verdi.','‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ SIGN OUT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.signOutUser = async function() {
  await signOut(auth);
  allBarbers = [];
  curBarber  = null;
  curBarberId= null;
};

// ‚îÄ‚îÄ LOAD DASHBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function loadDashboard(data) {
  const name = `${data.firstName||''} ${data.lastName||''}`.trim();
  document.getElementById('dash-name').textContent     = name;
  document.getElementById('dash-fullname').textContent = name;
  document.getElementById('dash-loc').textContent      = (data.district||'Bakƒ±') + ' r. ‚Äî ' + (data.salon||'Salon');
  document.getElementById('dash-ava').textContent      = (data.firstName||'?')[0].toUpperCase();
  // Fill edit form
  document.getElementById('e-fn').value    = data.firstName || '';
  document.getElementById('e-ln').value    = data.lastName  || '';
  document.getElementById('e-ph').value    = data.phone     || '';
  document.getElementById('e-ig').value    = data.instagram || '';
  document.getElementById('e-bio').value   = data.bio       || '';
  document.getElementById('e-salon').value = data.salon     || '';
  document.getElementById('e-addr').value  = data.address   || '';
  // Prices
  const p = data.prices || {};
  if (p.haircut) document.getElementById('mp-hc').value = p.haircut;
  if (p.beard)   document.getElementById('mp-bd').value = p.beard;
  if (p.combo)   document.getElementById('mp-cb').value = p.combo;
  if (p.steam)   document.getElementById('mp-st').value = p.steam;
  if (p.color)   document.getElementById('mp-cl').value = p.color;
  if (p.brow)    document.getElementById('mp-br').value = p.brow;
}

// ‚îÄ‚îÄ LOAD BARBERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.loadBarbers = async function() {
  const list = document.getElementById('barber-list');
  list.innerHTML = '<div class="loader"><div class="spin"></div>Y√ºkl…ônir...</div>';
  try {
    const snap = await getDocs(query(collection(db,'barbers'), orderBy('createdAt','desc')));
    allBarbers = [];
    snap.forEach(d => allBarbers.push({ id: d.id, ...d.data() }));
    renderBarbers(allBarbers);
  } catch(e) {
    list.innerHTML = '<div class="empty"><div class="ei">‚ö†Ô∏è</div><p>Y√ºkl…ôm…ô x…ôtasƒ±</p></div>';
  }
};

function renderBarbers(list) {
  const el = document.getElementById('barber-list');
  if (!list.length) {
    el.innerHTML = '<div class="empty"><div class="ei">‚úÇÔ∏è</div><p>H…ôl…ô b…ôrb…ôr qeydiyyatdan ke√ßm…ôyib.</p></div>';
    return;
  }
  el.innerHTML = list.map(b => {
    const name = `${b.firstName||''} ${b.lastName||''}`.trim();
    const init = (b.firstName||'?')[0].toUpperCase();
    return `
    <div class="bcard" onclick="openProfile('${b.id}')">
      <div class="bava">${init}</div>
      <div class="binfo">
        <div class="bname">${name}</div>
        <div class="bloc">üìç ${b.district||'Bakƒ±'} rayonu</div>
        <div class="btags">
          <span class="tag tgr">‚óè Aktiv</span>
          <span class="tag tg">‚òÖ Yeni</span>
          <span class="tag tgy">${b.exp||'1+ il'}</span>
        </div>
      </div>
      <span style="color:var(--muted);font-size:20px">‚Ä∫</span>
    </div>`;
  }).join('');
}

window.filterBarbers = function(q) {
  renderBarbers(allBarbers.filter(b => {
    const n = `${b.firstName||''} ${b.lastName||''}`.toLowerCase();
    return n.includes(q.toLowerCase()) || (b.district||'').toLowerCase().includes(q.toLowerCase());
  }));
};

window.setCat = function(el, cat) {
  document.querySelectorAll('[onclick^="setCat"]').forEach(c => c.classList.remove('on'));
  el.classList.add('on');
  renderBarbers(cat === 'all' ? allBarbers : allBarbers.filter(b => b.district === cat));
};

// ‚îÄ‚îÄ OPEN BARBER PROFILE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.openProfile = function(id) {
  curBarberId = id;
  curBarber   = allBarbers.find(b => b.id === id);
  if (!curBarber) return;
  const b    = curBarber;
  const name = `${b.firstName||''} ${b.lastName||''}`.trim();
  const init = (b.firstName||'?')[0].toUpperCase();
  document.getElementById('bpTitle').textContent = name;
  document.getElementById('bpName').textContent  = name;
  document.getElementById('bpAva').textContent   = init;
  document.getElementById('bpLoc').textContent   = (b.district||'Bakƒ±') + ' rayonu';
  document.getElementById('bpExp').textContent   = b.exp || '1+ il';
  document.getElementById('bpAbout').textContent = b.bio || 'Haqqƒ±nda m…ôlumat yoxdur.';
  document.getElementById('bpSalon').textContent = b.salon || '‚Äì';
  document.getElementById('bpAddr').textContent  = b.address || '‚Äì';
  document.getElementById('bpPhone').textContent = b.phone || '‚Äì';
  document.getElementById('bpIg').textContent    = b.instagram || '‚Äì';
  document.getElementById('bk-name').textContent = name;
  document.getElementById('sum-bar').textContent  = name;
  const p = b.prices || {};
  const svcMap = [
    { icon:'‚úÇÔ∏è', name:'Sa√ß k…ôsimi', key:'haircut', dur:'~30 d…ôq' },
    { icon:'ü™í', name:'Saqqal', key:'beard', dur:'~20 d…ôq' },
    { icon:'üë§', name:'Sa√ß + Saqqal', key:'combo', dur:'~50 d…ôq' },
    { icon:'üíÜ', name:'Buxar Masaj', key:'steam', dur:'~15 d…ôq' },
    { icon:'üíß', name:'Sa√ß boyasƒ±', key:'color', dur:'~60 d…ôq' },
    { icon:'‚úèÔ∏è', name:'Qa≈ü dizayn', key:'brow', dur:'~15 d…ôq' },
  ];
  const svcs = svcMap.filter(s => p[s.key]);
  document.getElementById('bpSvcList').innerHTML = '<div class="sec-label">Qiym…ôt Siyahƒ±sƒ±</div>' +
    svcs.map(s => `<div class="prow"><div class="picon">${s.icon}</div><div class="plabel"><div class="pn">${s.name}</div><div class="pd">${s.dur}</div></div><b class="gold">${p[s.key]} AZN</b></div>`).join('');
  document.getElementById('bk-svcs').innerHTML = svcs.map(s =>
    `<div class="prow" style="cursor:pointer" onclick="pickSvc(this,'${s.name}','${p[s.key]}')"><div class="picon">${s.icon}</div><div class="plabel"><div class="pn">${s.name}</div><div class="pd">${s.dur}</div></div><b class="gold">${p[s.key]} AZN</b></div>`
  ).join('');
  bpTab(document.querySelector('#pg-bprofile .tab'), 'bpt-port');
  go('pg-bprofile');
};

// ‚îÄ‚îÄ PROFILE TABS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.bpTab = function(el, id) {
  document.querySelectorAll('#pg-bprofile .tab').forEach(t => t.classList.remove('on'));
  el.classList.add('on');
  ['bpt-port','bpt-svc','bpt-rev','bpt-info'].forEach(t =>
    document.getElementById(t)?.classList.toggle('hidden', t !== id));
};

window.editTab = function(el, id) {
  document.querySelectorAll('#edit-tabs .tab').forEach(t => t.classList.remove('on'));
  el.classList.add('on');
  ['et-info','et-hours','et-svcs'].forEach(t =>
    document.getElementById(t)?.classList.toggle('hidden', t !== id));
};

// ‚îÄ‚îÄ BOOKING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.pickSvc = function(el, name, price) {
  document.querySelectorAll('#bk-svcs .prow').forEach(r => { r.style.background=''; r.style.borderRadius=''; });
  el.style.background = 'rgba(200,169,110,0.12)';
  el.style.borderRadius = '12px';
  bkSvc = { name, price };
  updateSummary();
};

window.pickTime = function(el) {
  document.querySelectorAll('.tslot:not(.taken)').forEach(s => s.classList.remove('picked'));
  el.classList.add('picked');
  bkTime = el.textContent;
  updateSummary();
};

function updateSummary() {
  const dateEl = document.getElementById('bk-date');
  if (bkSvc && bkTime) {
    document.getElementById('bk-summary').classList.remove('hidden');
    document.getElementById('sum-svc').textContent   = bkSvc.name;
    document.getElementById('sum-time').textContent  = bkTime;
    document.getElementById('sum-price').textContent = bkSvc.price + ' AZN';
    if (dateEl.value) {
      const d = new Date(dateEl.value);
      document.getElementById('sum-date').textContent =
        d.toLocaleDateString('az-AZ', { day:'numeric', month:'long', year:'numeric' });
    }
  }
}
document.getElementById('bk-date').addEventListener('change', updateSummary);

window.confirmBooking = async function() {
  if (!bkSvc)  { showModal('Xidm…ôt se√ßin','Bir xidm…ôt se√ßin.','‚ö†Ô∏è'); return; }
  if (!bkTime) { showModal('Vaxt se√ßin','Bir vaxt se√ßin.','‚ö†Ô∏è'); return; }
  try {
    const barberName = `${curBarber?.firstName||''} ${curBarber?.lastName||''}`.trim();
    await addDoc(collection(db,'bookings'), {
      barberId: curBarberId, barberName,
      clientId: currentUser?.uid || 'anonymous',
      service: bkSvc.name, price: bkSvc.price,
      time: bkTime, date: document.getElementById('bk-date').value,
      createdAt: serverTimestamp()
    });
    showModal('Zapis T…ôsdiql…ôndi!',
      `${bkSvc.name} √º√ß√ºn saat ${bkTime}-a yazƒ±ldƒ±nƒ±z!`, 'üìÖ',
      () => go('pg-client-home'));
    bkSvc = null; bkTime = null;
  } catch(e) {
    showModal('X…ôta','Zapis alƒ±nmadƒ±.','‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ BARBER UPDATE PROFILE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.updateBarberProfile = async function() {
  if (!curBarberId && !currentUser) return;
  const uid = currentUser?.uid;
  try {
    const data = {
      firstName: document.getElementById('e-fn').value.trim(),
      lastName:  document.getElementById('e-ln').value.trim(),
      phone:     document.getElementById('e-ph').value.trim(),
      instagram: document.getElementById('e-ig').value.trim(),
      bio:       document.getElementById('e-bio').value.trim(),
      salon:     document.getElementById('e-salon').value.trim(),
      district:  document.getElementById('e-dist').value,
      address:   document.getElementById('e-addr').value.trim(),
    };
    await updateDoc(doc(db,'barbers', uid), data);
    loadDashboard({ ...data });
    showModal('Profil Yenil…ôndi ‚úì','D…ôyi≈üiklikl…ôriniz saxlandƒ±.','üë§');
  } catch(e) {
    showModal('X…ôta','Yenil…ôm…ô alƒ±nmadƒ±.','‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ SAVE PRICES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.savePrices = async function() {
  const uid = currentUser?.uid;
  if (!uid) return;
  const prices = {
    haircut: +document.getElementById('mp-hc').value || 0,
    beard:   +document.getElementById('mp-bd').value || 0,
    combo:   +document.getElementById('mp-cb').value || 0,
    steam:   +document.getElementById('mp-st').value || 0,
    color:   +document.getElementById('mp-cl').value || 0,
    brow:    +document.getElementById('mp-br').value || 0,
  };
  try {
    await updateDoc(doc(db,'barbers', uid), { prices });
    showModal('Qiym…ôtl…ôr Yenil…ôndi ‚úì','M√º≈üt…ôril…ôr yeni qiym…ôtl…ôri g√∂r√ºr.','üí∞');
  } catch(e) {
    showModal('X…ôta','Saxlama alƒ±nmadƒ±.','‚ö†Ô∏è');
  }
};

// ‚îÄ‚îÄ TOGGLE ACTIVE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
window.toggleActive = async function(el) {
  el.classList.toggle('on');
  const on = el.classList.contains('on');
  const st = document.getElementById('dash-status');
  st.textContent = on ? 'Aktiv' : 'Offline';
  st.className   = on ? 'badge bgr' : 'badge bgy';
  if (currentUser) {
    try { await updateDoc(doc(db,'barbers',currentUser.uid), { isActive: on }); } catch(e) {}
  }
};

// ‚îÄ‚îÄ DEFAULT DATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
document.getElementById('bk-date').value = new Date().toISOString().split('T')[0];
</script>
</body>
</html>
